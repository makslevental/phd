\begin{figure}
    \centering
    \begin{tikzpicture}[scale=.35,every node/.style={minimum size=1cm}, on grid]
        \begin{scope}[]
            \node (node) at (-1.5,2) {$f = $};
            \draw[draw=base03,fill=blue,thick]
            (0,0) grid (4,4) rectangle (0,0);
        \end{scope}

        \foreach \x [count=\i] in {-7,0,7} {%
                \begin{scope}[xshift=\x cm,yshift=8cm]
                    \begin{scope}[xshift=0.5cm,yshift=0.5cm]
                        \node (node) at (-1.5,1.5) {$g_\i = $};
                        \draw[step=10mm, base03, thick] (0,0) grid (3,3);
                        \draw[fill=base02, opacity=0.4]
                        (0,0) grid (3,3) rectangle (0,0);
                    \end{scope}
                \end{scope}
                \begin{scope}[xshift=\x cm,yshift=16cm]
                    \begin{scope}[xshift=1cm]
                        \node (node) at (-2.5,1) {$f * g_\i = $};
                        \draw[draw=base03,fill=cyan,thick]
                        (0,0) grid (2,2) rectangle (0,0);
                    \end{scope}
                \end{scope}
            }

        \begin{scope}[xshift=1cm,yshift=24cm]
            \node (node) at (-2,1) {$f' = $};
            \foreach \s in {-0.5,0, 0.5} {%
                    \begin{scope}[xshift=\s cm,yshift=\s cm]
                        \draw[draw=base03,fill=cyan,thick]
                        (0,0) grid (2,2) rectangle (0,0);
                    \end{scope}
                }
        \end{scope}
        \draw[thick] (-0.5,3.5)   -- (-5,8);
        \draw[thick] (2,4.5)      -- (2,8) ;
        \draw[thick] (4.5,3.5)    -- (9,8) ;

        \draw[thick] (-5,12) -- (-5,15.5);
        \draw[thick] (2,12) -- (2,15.5)  ;
        \draw[thick] (9,12) -- (9,15.5)  ;

        \draw[thick] (-5,18.5) --(-0.125,23.5);
        \draw[thick] (2,18.5) -- (2,23)   ;
        \draw[thick] (9,18.5) -- (4.125,23.5) ;
    \end{tikzpicture}
    \caption{A convolution layer consisting of three distinct \(3\times 3\) filters.}\label{fig:multconvs}
\end{figure}